#!/usr/bin/env bash
# Fake journalctl used for integration testing. Ignores most arguments
# and emits a single Mtunnels log line, then sleeps to mimic a long-running
# follower.
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
LINE_FILE="${SCRIPT_DIR}/../data/sample_mtunnels_line.txt"
# Ensure a trailing newline so the exporter sees the line immediately.
printf '%s\n' "$(cat "${LINE_FILE}")"
# Keep process alive so the exporter can continue reading
sleep 60
